# Database (PostgreSQL with PostGIS)
DATABASE_URL=postgresql://lostfound:lostfound@db:5432/lostfound
DB_HOST=db
DB_PORT=5432
DB_NAME=lostfound
DB_USER=lostfound
DB_PASS=lostfound

# Feature Flags - Core Architecture Decision
NLP_ON=false  # Enable NLP features (text embeddings, multilingual NER)
CV_ON=true    # Enable Computer Vision features (perceptual hashing)

# S3/MinIO for media storage
S3_ENDPOINT_URL=http://minio:9000
S3_REGION=us-east-1
S3_ACCESS_KEY_ID=minioadmin
S3_SECRET_ACCESS_KEY=minioadmin
S3_BUCKET=media
S3_PUBLIC_URL=http://localhost:9000/media

# Redis for caching and job queues
REDIS_URL=redis://redis:6379/0

# API Configuration
API_HOST=0.0.0.0
API_PORT=8000
CORS_ORIGINS=http://localhost:3000,http://localhost:8080

# Authentication
JWT_SECRET=change-me-in-production-use-long-random-string
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=43200

# External Services (optional microservices)
NLP_SERVICE_URL=http://embedder:8010
VISION_SERVICE_URL=http://vision:8020

# NLP Service Configuration (when NLP_ON=true)
NLP_MODEL_NAME=intfloat/multilingual-e5-base
NLP_MODEL_DIR=/models/e5
NLP_PORT=8010

# Vision Service Configuration (when CV_ON=true)
VISION_PORT=8020

# Geospatial Configuration
GEOHASH_PRECISION=6
MAX_SEARCH_RADIUS_KM=50.0
LOCATION_FUZZING_METERS=100

# Matching Configuration
DEFAULT_TIME_WINDOW_DAYS=14
MAX_TIME_WINDOW_DAYS=90
MIN_MATCH_SCORE=0.3
TOP_K_MATCHES=10

# Baseline Matching Weights (always active)
WEIGHT_CATEGORY=0.35
WEIGHT_DISTANCE=0.25
WEIGHT_TIME=0.20
WEIGHT_ATTRIBUTES=0.20

# Optional ML Weights (when NLP_ON/CV_ON)
WEIGHT_TEXT_SIMILARITY=0.30
WEIGHT_IMAGE_SIMILARITY=0.25

# Privacy and Safety
ENABLE_COORDINATE_FUZZING=true
ENABLE_MASKED_CHAT=true
ENABLE_AUDIT_LOGGING=true

# Admin Configuration
ADMIN_EMAIL=admin@lostfound.local
ADMIN_PASSWORD=admin123
ADMIN_SECRET=change-me-in-production

# Supported Languages
SUPPORTED_LANGUAGES=si,ta,en
DEFAULT_LANGUAGE=en

# Environment
ENV=dev
