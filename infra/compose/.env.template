# Lost & Found Platform - Environment Configuration Template
# Copy this file to .env and update the values for your environment

# ============================================================================
# SECURITY CONFIGURATION (REQUIRED - Change in production!)
# ============================================================================

# JWT Secret Key - Generate with: openssl rand -hex 32
JWT_SECRET_KEY=your-jwt-secret-key-change-this-in-production-very-long-and-secure-key-here

# Database Password - Use a strong password in production
POSTGRES_PASSWORD=postgres

# ============================================================================
# MINIO OBJECT STORAGE CONFIGURATION
# ============================================================================

# MinIO Access Credentials
MINIO_ROOT_USER=admin
MINIO_ROOT_PASSWORD=admin

# MinIO Ports
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001

# MinIO Bucket Configuration
MINIO_BUCKET_NAME=lost-found-media
MINIO_DEFAULT_BUCKETS=lost-found-media,lost-found-backups

# MinIO Connection Settings
MINIO_SECURE=false
MINIO_REGION=us-east-1

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

POSTGRES_DB=lost_found
POSTGRES_USER=postgres
POSTGRES_PORT=5432

# Database Connection Pool Settings
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30

# ============================================================================
# SERVICE PORTS (Customize if needed)
# ============================================================================

API_PORT=8000
NLP_PORT=8001
VISION_PORT=8002
ADMIN_PORT=3000
REDIS_PORT=6379

# ============================================================================
# APPLICATION CONFIGURATION
# ============================================================================

# Environment (development, staging, production)
ENVIRONMENT=development

# Debug mode (true/false)
DEBUG=true

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# ============================================================================
# PERFORMANCE CONFIGURATION
# ============================================================================

# Worker counts for each service
API_WORKERS=4
NLP_WORKERS=2
VISION_WORKERS=2

# Cache TTL in seconds
REDIS_CACHE_TTL=3600

# ============================================================================
# FEATURE FLAGS
# ============================================================================

# Enable/disable features
ENABLE_REDIS_CACHE=true
ENABLE_METRICS=true
ENABLE_RATE_LIMIT=true

# ============================================================================
# CORS CONFIGURATION
# ============================================================================

# Allowed origins for CORS (comma-separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://10.0.2.2:8000,http://localhost:8000

# Allow credentials in CORS requests
CORS_ALLOW_CREDENTIALS=true

# ============================================================================
# JWT CONFIGURATION
# ============================================================================

JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ============================================================================
# MEDIA CONFIGURATION
# ============================================================================

# Maximum upload size in MB
MAX_UPLOAD_SIZE_MB=10

# Maximum image dimension
MAX_IMAGE_DIMENSION=4096

# ============================================================================
# MATCHING CONFIGURATION
# ============================================================================

# Matching thresholds
MATCH_MIN_SCORE=0.65
MATCH_TEXT_THRESHOLD=0.70
MATCH_IMAGE_THRESHOLD=0.75

# Hash thresholds for image matching
HASH_THRESHOLD_SIMILAR=10
HASH_THRESHOLD_MATCH=14

# ============================================================================
# NLP SERVICE CONFIGURATION
# ============================================================================

# Model configuration
NLP_MODEL_NAME=intfloat/e5-small-v2

# Processing configuration
NLP_BATCH_SIZE=32
NLP_MAX_SEQUENCE_LENGTH=512

# ============================================================================
# RATE LIMITING CONFIGURATION
# ============================================================================

# Rate limits (requests per time period)
RATE_LIMIT_AUTH=5/minute
RATE_LIMIT_UPLOAD=10/minute
RATE_LIMIT_CREATE_REPORT=20/hour
RATE_LIMIT_SEARCH=60/minute
RATE_LIMIT_ENCODE=100/minute
RATE_LIMIT_BATCH=50/minute
RATE_LIMIT_HASH=100/minute

# ============================================================================
# PRODUCTION OVERRIDES
# ============================================================================
# Uncomment and modify these for production deployment

# ENVIRONMENT=production
# DEBUG=false
# LOG_LEVEL=WARNING
# API_WORKERS=8
# NLP_WORKERS=4
# VISION_WORKERS=4
# CORS_ORIGINS=https://yourdomain.com,https://admin.yourdomain.com
