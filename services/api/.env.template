# Lost & Found API Service - Environment Configuration Template
# Copy this file to .env and update the values

# ========== Server Configuration ==========
HOST=0.0.0.0
PORT=8000
LOG_LEVEL=INFO
WORKERS=4
DEBUG=false
ENVIRONMENT=production

# ========== Database Configuration ==========
DATABASE_URL=postgresql+asyncpg://postgres:postgres@postgres:5432/lost_found
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20
DB_POOL_TIMEOUT=30
DB_ECHO=false

# ========== JWT Authentication ==========
JWT_SECRET_KEY=your-super-secret-jwt-key-change-in-production
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# ========== Service Integration ==========
NLP_SERVICE_URL=http://nlp:8001
NLP_SERVICE_TIMEOUT=30
NLP_BATCH_SIZE=32
ENABLE_NLP_CACHE=true

VISION_SERVICE_URL=http://vision:8002
VISION_SERVICE_TIMEOUT=30
ENABLE_VISION_CACHE=true

# ========== Redis Configuration ==========
REDIS_URL=redis://redis:6379/0
REDIS_CACHE_TTL=3600
REDIS_MAX_CONNECTIONS=10
ENABLE_REDIS_CACHE=true

# ========== Media Storage ==========
MEDIA_ROOT=/app/uploads
MEDIA_URL=/media
MAX_UPLOAD_SIZE_MB=10
STRIP_EXIF=true

# MinIO Object Storage
MINIO_ENDPOINT=http://minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minioadmin123
MINIO_BUCKET_NAME=lost-found-media
MINIO_SECURE=false
MINIO_REGION=us-east-1

# ========== Matching Configuration ==========
MATCH_WEIGHT_TEXT=0.50
MATCH_WEIGHT_IMAGE=0.30
MATCH_WEIGHT_GEO=0.15
MATCH_WEIGHT_TIME=0.05
MATCH_MIN_SCORE=0.60
MATCH_TEXT_THRESHOLD=0.65
MATCH_IMAGE_THRESHOLD=0.70
MATCH_GEO_RADIUS_KM=10.0
MATCH_TIME_WINDOW_DAYS=45
ANN_TOP_K=100
MATCH_MAX_RESULTS=25

# ========== Pagination ==========
DEFAULT_PAGE_SIZE=20
MAX_PAGE_SIZE=100

# ========== Rate Limiting ==========
ENABLE_RATE_LIMIT=true
RATE_LIMIT_AUTH=5/minute
RATE_LIMIT_UPLOAD=10/minute
RATE_LIMIT_CREATE_REPORT=20/hour
RATE_LIMIT_SEARCH=60/minute
RATE_LIMIT_STORAGE=redis

# ========== Security & CORS ==========
CORS_ORIGINS=http://localhost:3000,http://localhost:3001,http://localhost:8000
CORS_ALLOW_CREDENTIALS=true
ENABLE_SECURITY_HEADERS=true

# ========== Monitoring & Metrics ==========
ENABLE_METRICS=true
METRICS_PORT=9090

# ========== Notifications ==========
ENABLE_NOTIFICATIONS=true
